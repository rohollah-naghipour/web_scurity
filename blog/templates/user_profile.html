{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - My Blog</title>
    <link rel="icon" type="image/x-icon" href="{% static 'images/black.png' %}">
    <link rel="stylesheet" href="{% static 'css/user_profile.css' %}">
</head>
<body class="profile-page">
    <div class="profile-container">
        <!-- Header -->
        <div class="profile-header">
            <div class="header-actions">
                <a href="{% url 'post_list' %}" class="back-link">
                    <span class="back-arrow">←</span>
                    Back to Posts
                </a>
                <a href="{% url 'edit_profile' %}" class="edit-profile-btn">
                    <span class="btn-icon">✏️</span>
                    Edit Profile
                </a>
            </div>
            
            <div class="user-avatar">
                <div class="avatar-placeholder">
                    {{ user.first_name|first|upper }}{{ user.last_name|first|upper }}
                </div>
            </div>
            
            <h1 class="user-name">{{ user.first_name }} {{ user.last_name }}</h1>
            <p class="user-username">@{{ user.username }}</p>
            <p class="user-email">{{ user.email }}</p>
            
            <div class="member-since">
                <span class="member-icon">🎉</span>
                Member since {{ user.date_joined|date:"F Y" }}
            </div>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">📝</div>
                    <div class="stat-content">
                        <div class="stat-number">{{ posts_count }}</div>
                        <div class="stat-label">Total Posts</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">💬</div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Comments</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">⭐</div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Likes Received</div>
                    </div>
                </div>
                
                <div class="stat-card">
                    <div class="stat-icon">👁️</div>
                    <div class="stat-content">
                        <div class="stat-number">0</div>
                        <div class="stat-label">Total Views</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Information -->
        <div class="info-section">
            <h2 class="section-title">Personal Information</h2>
            <div class="info-grid">
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">👤</span>
                        Full Name
                    </div>
                    <div class="info-value">{{ user.first_name }} {{ user.last_name }}</div>
                </div>
                
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">@</span>
                        Username
                    </div>
                    <div class="info-value">@{{ user.username }}</div>
                </div>
                
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">📧</span>
                        Email Address
                    </div>
                    <div class="info-value">{{ user.email }}</div>
                </div>
                
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">🕒</span>
                        Last Login
                    </div>
                    <div class="info-value">{{ user.last_login|date:"M d, Y H:i" }}</div>
                </div>
                
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">🎯</span>
                        Account Status
                    </div>
                    <div class="info-value status-active">
                        <span class="status-dot"></span>
                        Active
                    </div>
                </div>
                
                <div class="info-item">
                    <div class="info-label">
                        <span class="info-icon">📅</span>
                        Member Since
                    </div>
                    <div class="info-value">{{ user.date_joined|date:"M d, Y" }}</div>
                </div>
            </div>
        </div>

        <!-- Recent Posts -->
        <div class="posts-section">
            <div class="section-header">
                <h2 class="section-title">Recent Posts</h2>
                <a href="{% url 'post_list' %}" class="view-all-link">
                    View All Posts
                    <span class="link-arrow">→</span>
                </a>
            </div>
            
            {% if recent_posts %}
            <div class="posts-grid">
                {% for post in recent_posts %}
                <div class="post-card">
                    <div class="post-header">
                        <h3 class="post-title">
                            <a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a>
                        </h3>
                        <span class="post-date">{{ post.created_at|date:"M d, Y" }}</span>
                    </div>
                    <p class="post-excerpt">{{ post.text|truncatewords:20 }}</p>
                    <div class="post-stats">
                        <span class="stat">
                            <span class="stat-icon">💬</span>
                            0 comments
                        </span>
                        <span class="stat">
                            <span class="stat-icon">👁️</span>
                            0 views
                        </span>
                    </div>
                </div>
                {% endfor %}
            </div>
            {% else %}
            <div class="no-posts">
                <div class="no-posts-icon">📝</div>
                <h3>No Posts Yet</h3>
                <p>You haven't created any posts. Start sharing your thoughts!</p>
                <a href="{% url 'create_post' %}" class="btn btn-primary">
                    <span class="btn-icon">✏️</span>
                    Create Your First Post
                </a>
            </div>
            {% endif %}
        </div>

        <!-- Quick Actions -->
        <div class="actions-section">
            <h2 class="section-title">Quick Actions</h2>
            <div class="actions-grid">
                <a href="{% url 'create_post' %}" class="action-card">
                    <div class="action-icon">📝</div>
                    <div class="action-content">
                        <h3>Create New Post</h3>
                        <p>Share your thoughts and ideas</p>
                    </div>
                    <span class="action-arrow">→</span>
                </a>
                
                <a href="{% url 'edit_profile' %}" class="action-card">
                    <div class="action-icon">⚙️</div>
                    <div class="action-content">
                        <h3>Edit Profile</h3>
                        <p>Update your personal information</p>
                    </div>
                    <span class="action-arrow">→</span>
                </a>
                
                <a href="{% url 'logout' %}" class="action-card">
                    <div class="action-icon">🚪</div>
                    <div class="action-content">
                        <h3>Logout</h3>
                        <p>Sign out of your account</p>
                    </div>
                    <span class="action-arrow">→</span>
                </a>
            </div>
        </div>
    </div>

    <script src="{% static 'js/user_profile.js' %}"></script>
</body>
</html>